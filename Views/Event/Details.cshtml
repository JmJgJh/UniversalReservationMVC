@model UniversalReservationMVC.Models.Event
@{
    ViewData["Title"] = Model.Title;
}

<h1>@Model.Title</h1>

<div class="row">
    <div class="col-md-6">
        <p><strong>Zasób:</strong> @Model.Resource?.Name</p>
        <p><strong>Początek:</strong> @Model.StartTime.ToString("yyyy-MM-dd HH:mm")</p>
        <p><strong>Koniec:</strong> @Model.EndTime.ToString("yyyy-MM-dd HH:mm")</p>
        <p><strong>Opis:</strong> @Model.Description</p>
    </div>
</div>

<div class="mt-4">
    <h5>Akcje</h5>
    <div class="d-flex gap-2 flex-wrap">
        <a href="@Url.Action("Index", "Reservation", new { resourceId = Model.ResourceId })" class="btn btn-primary">Wybierz miejsce</a>
        <a href="@Url.Action("Create", "Reservation", new { resourceId = Model.ResourceId, eventId = Model.Id })" class="btn btn-success">Zarezerwuj (logowanie)</a>
        <a href="@Url.Action("GuestCreate", "Reservation", new { resourceId = Model.ResourceId, eventId = Model.Id })" class="btn btn-outline-success">Rezerwuj jako gość</a>
        <a href="@Url.Action("GetSeatMap", "Seat", new { resourceId = Model.ResourceId, eventId = Model.Id })" class="btn btn-info">Mapa miejsc</a>
    </div>
    @if (ViewBag.UserReservationId != null)
    {
        <div class="mt-2">
            <a href="@Url.Action("Buy", "Ticket", new { reservationId = ViewBag.UserReservationId })" class="btn btn-outline-primary">
                Kup bilet
            </a>
        </div>
    }
</div>

<div class="mt-3">
    @if (User.IsInRole("Admin") || User.IsInRole("Owner"))
    {
        <a href="@Url.Action("Edit", "Event", new { id = Model.Id })" class="btn btn-warning">Edytuj</a>
    }
    <a href="@Url.Action("Index", "Event")" class="btn btn-secondary">Wróć do listy</a>
</div>
